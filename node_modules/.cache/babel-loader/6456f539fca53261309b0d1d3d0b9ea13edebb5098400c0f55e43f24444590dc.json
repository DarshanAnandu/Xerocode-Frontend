{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus-2023/Documents/Web Development/Project/Xerocodee - FullStack Assignment/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Asus-2023/Documents/Web Development/Project/Xerocodee - FullStack Assignment/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Asus-2023/Documents/Web Development/Project/Xerocodee - FullStack Assignment/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus-2023/Documents/Web Development/Project/Xerocodee - FullStack Assignment/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{ToastContainer,toast}from'react-toastify';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Login(_ref){var firstName=_ref.firstName,lastName=_ref.lastName;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginData=_useState2[0],setLoginData=_useState2[1];var headers={\"Content-Type\":\"application/json\"};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var navigate=useNavigate();var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(loginData.email==='')){_context.next=5;break;}toast.error(\"Email is required\");_context.next=22;break;case 5:if(!(loginData.password==='')){_context.next=9;break;}toast.error(\"Password is required\");_context.next=22;break;case 9:_context.prev=9;setIsLoading(true);_context.next=13;return axios.post(\"https://xerocodee-e5rc.onrender.com/auth/login\",{credentials:loginData},{headers:headers});case 13:response=_context.sent;setIsLoading(false);if(response.status===200){toast.success(\"Login successful\");navigate(\"/home/\".concat(response.data.user._id));}else{toast.error(\"Login failed\");}_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](9);setIsLoading(false);if(_context.t0.response){toast.error(_context.t0.response.data.message);}else{toast.error(\"An error occurred\");}case 22:case\"end\":return _context.stop();}},_callee,null,[[9,18]]);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full h-full py-2 px-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-black text-3xl font-bold\",children:[\"Welcome \",firstName,\" \",lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[150px] border border-slate-400 border-opacity-40\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[152px] h-[21px] text-center text-slate-950 text-opacity-50 text-sm font-bold capitalize leading-[21px]\",children:\"Login To Your Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[150px] h-[0px] border border-slate-400 border-opacity-40\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col gap-5 justify-center items-center h-full pt-28\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"input\",{className:\"w-full py-1 text-gray-500 bg-white rounded-lg border outline-none px-4\",placeholder:\"Email-id\",type:\"email\",name:\"email\",value:loginData.email,onChange:function onChange(e){return setLoginData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{email:e.target.value});});}}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full py-1 text-gray-500 bg-white rounded-lg border outline-none px-4\",placeholder:\"Password\",type:\"password\",name:\"password\",value:loginData.password,onChange:function onChange(e){return setLoginData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{password:e.target.value});});}}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full py-1 bg-blue-600 rounded-lg border border-stone-300 text-white\",disabled:isLoading,children:isLoading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Login;","map":{"version":3,"names":["axios","React","useState","useNavigate","ToastContainer","toast","jsxs","_jsxs","jsx","_jsx","Login","_ref","firstName","lastName","_useState","email","password","_useState2","_slicedToArray","loginData","setLoginData","headers","_useState3","_useState4","isLoading","setIsLoading","navigate","submitHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","error","post","credentials","sent","status","success","concat","data","user","_id","t0","message","stop","_x","apply","arguments","className","children","onSubmit","placeholder","type","name","value","onChange","prevData","_objectSpread","target","disabled"],"sources":["C:/Users/Asus-2023/Documents/Web Development/Project/Xerocodee - FullStack Assignment/frontend/src/components/Login.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction Login({ firstName, lastName }) {\r\n    const [loginData, setLoginData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n    };\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        if (loginData.email === '') {\r\n            toast.error(\"Email is required\");\r\n        } else if (loginData.password === '') {\r\n            toast.error(\"Password is required\");\r\n        } else {\r\n            try {\r\n                setIsLoading(true);\r\n                const response = await axios.post(\"https://xerocodee-e5rc.onrender.com/auth/login\", { credentials: loginData }, { headers });\r\n                setIsLoading(false);\r\n                if (response.status === 200) {\r\n                    toast.success(\"Login successful\");\r\n                    navigate(`/home/${response.data.user._id}`);\r\n                } else {\r\n                    toast.error(\"Login failed\");\r\n                }\r\n            } catch (error) {\r\n                setIsLoading(false);\r\n                if (error.response) {\r\n                    toast.error(error.response.data.message);\r\n                } else {\r\n                    toast.error(\"An error occurred\");\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='flex flex-col w-full h-full py-2 px-12'>\r\n            <div className='text-center text-black text-3xl font-bold'>Welcome {firstName} {lastName}</div>\r\n            <div className='flex justify-center items-center'>\r\n                <div className='w-[150px] border border-slate-400 border-opacity-40'></div>\r\n                <div className='w-[152px] h-[21px] text-center text-slate-950 text-opacity-50 text-sm font-bold capitalize leading-[21px]'>Login To Your Account</div>\r\n                <div className='w-[150px] h-[0px] border border-slate-400 border-opacity-40'></div>\r\n            </div>\r\n            <form className='flex flex-col gap-5 justify-center items-center h-full pt-28' onSubmit={submitHandler}>\r\n                <input\r\n                    className='w-full py-1 text-gray-500 bg-white rounded-lg border outline-none px-4'\r\n                    placeholder='Email-id'\r\n                    type='email'\r\n                    name='email'\r\n                    value={loginData.email}\r\n                    onChange={(e) => setLoginData(prevData => ({ ...prevData, email: e.target.value }))}\r\n                />\r\n                <input\r\n                    className='w-full py-1 text-gray-500 bg-white rounded-lg border outline-none px-4'\r\n                    placeholder='Password'\r\n                    type='password'\r\n                    name='password'\r\n                    value={loginData.password}\r\n                    onChange={(e) => setLoginData(prevData => ({ ...prevData, password: e.target.value }))}\r\n                />\r\n                <button\r\n                    className='w-full py-1 bg-blue-600 rounded-lg border border-stone-300 text-white'\r\n                    disabled={isLoading}\r\n                >\r\n                    {isLoading ? 'Logging in...' : 'Login'}\r\n                </button>\r\n            </form>\r\n            <ToastContainer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}